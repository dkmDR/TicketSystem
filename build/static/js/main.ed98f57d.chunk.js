(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(76)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(14),c=a.n(s),r=(a(44),a(45),a(46),a(47),a(3)),o=a(4),i=a(6),m=a(5),d=a(7),u=(a(48),a(8)),E=a(17),p=a(1),h={employee:"save-employee",searchEmployees:"get-employees",searchEmployee:"get-employee",remove:"remove-employee",options:"get-employee-options",logIn:"log-in",validSessionId:"valid-session-id",closeSession:"close-session"},f="search-status",b="search-state",v={create:"create-ticket",remove:"remove-ticket",search:"search-tickets",get:"get-ticket",getInfo:"get-ticket-info",employees:"get-employees-by-ticket",removeAssigned:"remove-assign-ticket",employeeOptions:"get-employees-by-ticket-options",createEntry:"create-entry",entries:"get-ticket-entries",removeEntry:"remove-entry"},N={entries:"get-entries-by-date"};function y(e,t,a){return a="undefined"!==typeof a?a:"POST",fetch("http://localhost/ticketAPI/"+t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function g(e,t){return"undefined"!==typeof t?fetch("http://localhost/ticketAPI/"+e+t):fetch("http://localhost/ticketAPI/"+e)}var k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={redirect:!1},a.logOut=a.logOut.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"logOut",value:function(){var e=this,t="?sessionid="+sessionStorage.getItem("sessionId");g(h.closeSession,t).then(function(e){return e.json()}).then(function(t){sessionStorage.setItem("sessionId",void 0),e.setState({redirect:!0})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"render",value:function(){var e=this;if("undefined"===sessionStorage.getItem("sessionId"))return l.a.createElement(E.a,{to:"/"});var t="nav-link",a=t,n=t,s=t;switch(this.props.select){case"ticket":a+=" active";break;case"employee":n+=" active";break;case"reports":s+=" active"}return l.a.createElement("div",{className:"container-fluid containers"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("button",{type:"button",onClick:function(t){return e.logOut()},className:"btn btn-light float-right"},"Log out"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("ul",{className:"nav nav-pills"},l.a.createElement("li",{className:"nav-item",key:1},l.a.createElement(u.b,{to:"/ticket/list",className:a},"Tickets ",l.a.createElement("i",{className:"fa fa-ticket"}))),l.a.createElement("li",{className:"nav-item",key:2},l.a.createElement(u.b,{to:"/employee/list",className:n},"Employees ",l.a.createElement("i",{className:"fa fa-users"}))),l.a.createElement("li",{className:"nav-item",key:3},l.a.createElement(u.b,{to:"/report",className:s},"Reports ",l.a.createElement("i",{className:"fa fa-file-text-o"})))))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).remove=function(e){if(window.confirm("are you sure?")){var t="?ticket="+e;g(v.remove,t).then(function(e){return e.json()}).then(function(e){null!=e?e.status?a.setState({tickets:e.tickets}):window.alert(e.message):window.alert("Response does not found")}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})}},a.view=function(e){a.setState({ticketId:e,redirectToView:!0})},a.update=function(e){a.setState({ticketId:e,redirectToView:!0,updating:!0})},a.entries=function(e){a.setState({ticketId:e,redirectToTimeEntry:!0})},a.state={tickets:[],ticketId:0,redirectToView:!1,updating:!1,redirectToTimeEntry:!1},a.searchTickets=a.searchTickets.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchTickets",value:function(){var e=this;g(v.search).then(function(e){return e.json()}).then(function(t){null!=t&&e.setState({tickets:t})}).catch(function(e){console.log("Error..."),console.log(e),window.alert("Internal error, please call the administrator")})}},{key:"componentDidMount",value:function(){this.searchTickets()}},{key:"render",value:function(){var e=this.state,t=e.tickets,a=e.ticketId,n=e.redirectToView,s=e.updating,c=e.redirectToTimeEntry,r=!1,o=this;return void 0!==this.props.location.state&&(r=this.props.location.state.newRecord),n?l.a.createElement(E.a,{to:{pathname:"/ticket/view",state:{ticket:a,updating:s}}}):c?l.a.createElement(E.a,{to:{pathname:"/ticket/entries",state:{ticket:a}}}):[l.a.createElement(k,{select:"ticket",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"List of Tickets"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},r?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"New Ticket has been created!"):"")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(u.b,{to:"/ticket",className:"btn btn-primary buttons float-right"},l.a.createElement("i",{className:"fa fa-plus"})," Create Ticket")))),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col table-responsive"},l.a.createElement("table",{className:"table table-condensed table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Subject"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Assigned(s)"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Created on"),l.a.createElement("th",null,"Created by"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,t.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.subject),l.a.createElement("td",null,e.ticket_description),l.a.createElement("td",null,e.assigned),l.a.createElement("td",null,e.ticket_date),l.a.createElement("td",null,e.status_des),l.a.createElement("td",null,e.created_on),l.a.createElement("td",null,e.created_by),l.a.createElement("td",null,2!=e.status_id?l.a.createElement("div",null,l.a.createElement("i",{className:"fa fa-sticky-note-o actionIcon",title:"Add Node & Time Entry",onClick:function(t){return o.entries(e.id)}}),l.a.createElement("i",{className:"fa fa-pencil-square-o actionIcon",title:"Edit Ticket",onClick:function(t){return o.update(e.id)}}),l.a.createElement("i",{className:"fa fa-trash actionIcon",title:"Remove Ticket",onClick:function(t){return o.remove(e.id)}})):"",l.a.createElement("i",{className:"fa fa-eye actionIcon",title:"View Ticket",onClick:function(t){return o.view(e.id)}})))})))))))))))]}}]),t}(n.Component),w=a(15),j=a(16),_=a.n(j),O=a(18);function I(e){return!(e.length>0)}var L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).change=function(e){var t=e.target.id,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.search=function(e){var t="?ticket="+e;g(v.getInfo,t).then(function(e){return e.json()}).then(function(e){if(null!=e){var t=e.ticket,n=e.assigned;a.setState({ticket_id:t.id,subject:t.subject,ticket_date:t.ticket_date,ticket_description:t.description,status_id:t.status_id,status_des:t.status_des,employeesStateLabel:n.label,employeesSelected:e.employees})}else window.alert("Response does not found")}).catch(function(e){console.log("Error..."),console.log(e)})},a.state={ticket_id:0,ticket_date:"",subject:"",status_id:0,status_des:"",ticket_description:"",ticket_note:"",status:[],employees:[],employeesSelected:null,sendRequest:!1,errorMessage:!1,messageLabel:"",subjectState:"",subjectStateLabel:"Enter a subject ticket",dateState:"",dateStateLabel:"Due date ticket",statusStateLabel:"Select a status...",employeesStateLabel:"Select Employee(s)",descriptionState:"",descriptionStateLabel:""},a.searchEmployees=a.searchEmployees.bind(Object(p.a)(Object(p.a)(a))),a.searchStatus=a.searchStatus.bind(Object(p.a)(Object(p.a)(a))),a.create=a.create.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchStatus",value:function(){var e=this;g(b).then(function(e){return e.json()}).then(function(t){e.setState({status:t})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"searchEmployees",value:function(){var e=this;g(h.options).then(function(e){return e.json()}).then(function(t){null!=t&&e.setState({employees:t})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"create",value:function(){var e=this,t=this.state,a=t.ticket_id,n=t.subject,l=t.ticket_date,s=t.status_id,c=t.ticket_description,r=t.employeesSelected;this.validation()&&y({ticket_id:a,subject:n,ticket_date:l,status_id:s,ticket_description:c,employees:r,sessionId:sessionStorage.getItem("sessionId")},v.create).then(function(e){return e.json()}).then(function(t){t.status?e.setState({redirect:!0}):e.setState({sendRequest:!1,errorMessage:!0,messageLabel:t.message})}).catch(function(t){console.log("Error..."),console.log(t),e.setState({sendRequest:!1,errorMessage:!0,messageLabel:"Internal Error, please call the administrator"})})}},{key:"validation",value:function(){var e=this.state,t=e.subject,a=e.ticket_date,n=e.status_id,l=e.ticket_description,s=e.employeesSelected;return I(t)?(this.setState({subjectState:"required",subjectStateLabel:"Enter a valid subject"}),!1):(this.setState({subjectState:"",subjectStateLabel:""}),void 0!==a.length?(this.setState({dateState:"required",dateStateLabel:"Enter a valid date"}),!1):(this.setState({dateState:"",dateStateLabel:""}),n<1?(this.setState({statusStateLabel:"Select at least one status"}),!1):(this.setState({statusStateLabel:""}),null==s?(this.setState({employeesStateLabel:"Select at least one employee"}),!1):(this.setState({employeesStateLabel:""}),I(l)&&this.setState({descriptionState:"required",descriptionStateLabel:"Description could not be empty"}),this.setState({descriptionState:"",descriptionStateLabel:""}),!0))))}},{key:"componentDidMount",value:function(){this.searchStatus(),this.searchEmployees(),void 0!==this.props.location.state&&this.search(this.props.location.state.ticketId)}},{key:"render",value:function(){var e=this,t=this.state,a=t.ticket_id,n=t.subject,s=t.ticket_date,c=t.ticket_description,r=t.status_des,o=t.status,i=t.employees,m=t.errorMessage,d=t.sendRequest,p=t.messageLabel,h=t.redirect,f=t.subjectState,b=t.subjectStateLabel,v=t.dateState,N=t.dateStateLabel,y=t.statusStateLabel,g=t.employeesStateLabel,S=t.descriptionState,w=t.descriptionStateLabel;return h?l.a.createElement(E.a,{to:{pathname:"/ticket/list",state:{newRecord:!0}}}):(a>0&&(b=n,N=s,y=r,w=c),[l.a.createElement(k,{select:"ticket",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Ticket Form"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},a>0?l.a.createElement("h3",null,"Ticket#",a):"")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},a>0?l.a.createElement("div",{className:"alert alert-info",role:"alert"}," You can fill just input that you want modify! "):"")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 form-group"},l.a.createElement("label",null,"Subject"),l.a.createElement("input",{type:"text",id:"subject",className:"form-control ".concat(f),placeholder:b,onChange:function(t){return e.change(t)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("label",null,"Date"),l.a.createElement(_.a,{inputProps:{className:"form-control ".concat(v),placeholder:"".concat(N)},dateFormat:"YYYY-MM-DD",onChange:function(t){return e.setState({ticket_date:t})}})),l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("label",null,"Status"),l.a.createElement(O.a,{className:"react-select primary",classNamePrefix:"react-select",onChange:function(t){return e.setState({status_id:t.value})},options:o,placeholder:y}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 form-group"},l.a.createElement("label",null,"Employee(s)"),l.a.createElement(O.a,{className:"react-select info",classNamePrefix:"react-select",placeholder:g,closeMenuOnSelect:!1,isMulti:!0,onChange:function(t){return e.setState({employeesSelected:t})},options:i}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{className:"form-control ".concat(S),id:"ticket_description",onChange:function(t){return e.change(t)},rows:5,placeholder:w}))),d?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),l.a.createElement("span",null,"Loading please wait..."))):[l.a.createElement("div",{className:"row",key:3},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("button",{className:"btn btn-success buttons",onClick:this.create},l.a.createElement("i",{className:"fa fa-plus"})," Save"),l.a.createElement(u.b,{to:"/ticket/list",className:"btn btn-danger buttons buttonMarginLeft"},l.a.createElement("i",{className:"fa fa-sign-out"})," Cancel"))),l.a.createElement("div",{className:"row",key:4},l.a.createElement("div",{className:"col"},m?l.a.createElement("span",{className:"text-danger"},p):""))]))))))])}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).change=function(e){var t=e.target.id,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.state={employee_id:0,first_name:"",last_name:"",status_id:0,password:"",confirmPassword:"",email:"",userName:"",status:[],employee:{id:0,first_name:"",last_name:"",email:"",user_name:"",password:"",status_id:0,status_des:""},firstNameState:"",firstNameStateLabel:"Enter a First Name!",lastNameState:"",lastNameStateLabel:"Enter a Last Name!",statusStateLabel:"Select...",emailState:"",emailStateLabel:"Enter a valid email!",userNameState:"",userNameStateLabel:"Enter a valid User Name",passwordState:"",passwordStateLabel:"Enter a valid password",passwordMatch:!0,sendRequest:!1,errorMessage:!1,messageLabel:"",redirect:!1},a.save=a.save.bind(Object(p.a)(Object(p.a)(a))),a.searchStatus=a.searchStatus.bind(Object(p.a)(Object(p.a)(a))),a.validation=a.validation.bind(Object(p.a)(Object(p.a)(a))),a.searchEmployee=a.searchEmployee.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchStatus",value:function(){var e=this;g(f).then(function(e){return e.json()}).then(function(t){e.setState({status:t})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"searchEmployee",value:function(e){var t=this,a="?id="+e;g(h.searchEmployee,a).then(function(e){return e.json()}).then(function(e){null!=e&&t.setState({employee_id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,userName:e.user_name,status_id:e.status_id,employee:e})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"save",value:function(){var e=this,t=this.validation(),a=this.state,n=a.employee,l=a.first_name,s=a.last_name,c=a.status_id,r=a.password,o=a.email,i=a.userName;t&&(this.setState({sendRequest:!0}),y({employee_id:n.id,first_name:l,last_name:s,status_id:c,password:r,email:o,user_name:i},h.employee).then(function(e){return e.json()}).then(function(t){t.status?e.setState({redirect:!0}):e.setState({sendRequest:!1,errorMessage:!0,messageLabel:t.message})}).catch(function(t){console.log("Error..."),console.log(t),e.setState({sendRequest:!1,errorMessage:!0,messageLabel:"Internal Error, please call the administrator"})}))}},{key:"validation",value:function(){var e=this.state,t=e.first_name,a=e.last_name,n=e.status_id,l=e.password,s=e.confirmPassword,c=e.email,r=e.userName,o=e.employee;if(I(t))return this.setState({firstNameState:"required",firstNameStateLabel:"First Name could not be empty!"}),!1;if(this.setState({firstNameState:"",firstNameStateLabel:""}),I(a))return this.setState({lastNameState:"required",lastNameStateLabel:"Last Name could not be empty"}),!1;if(this.setState({lastNameState:"",lastNameStateLabel:""}),n<1)return this.setState({statusStateLabel:"Select at least one status"}),!1;if(this.setState({statusStateLabel:""}),I(c))return this.setState({emailState:"required",emailStateLabel:"Email could not be empty"}),!1;if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c))return this.setState({emailState:"required",emailStateLabel:"Email a valid email"}),!1;if(this.setState({emailState:"",emailStateLabel:""}),I(r))return this.setState({userNameState:"required",userNameStateLabel:"User Name could not be empty"}),!1;if(this.setState({userNameState:"",userNameStateLabel:""}),I(l)){if(o.id<1)return this.setState({passwordState:"required",passwordStateLabel:"Please Enter the password"}),!1}else{if(this.setState({passwordState:"",passwordStateLabel:""}),l!==s)return this.setState({passwordMatch:!1}),!1;this.setState({passwordMatch:!0,errorMessage:!1})}return!0}},{key:"componentDidMount",value:function(){this.searchStatus(),void 0!==this.props.location.state&&this.searchEmployee(this.props.location.state.employee_id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.status,n=t.firstNameState,s=t.firstNameStateLabel,c=t.lastNameState,r=t.lastNameStateLabel,o=t.emailState,i=t.emailStateLabel,m=t.userNameState,d=t.userNameStateLabel,p=t.statusStateLabel,h=t.passwordState,f=t.passwordStateLabel,b=t.passwordMatch,v=t.sendRequest,N=t.errorMessage,y=t.messageLabel,g=t.redirect,S=t.employee;return g?l.a.createElement(E.a,{to:{pathname:"/employee/list",state:{newRecord:!0}}}):(S.id>0&&(s=S.first_name,r=S.last_name,i=S.email,d=S.user_name,p=S.status_des),[l.a.createElement(k,{select:"employee",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Employee Form"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},S.id>0?l.a.createElement("div",{className:"alert alert-info",role:"alert"}," You can fill just input that you want modify! "):"")),l.a.createElement("form",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",id:"first_name",className:"form-control ".concat(n),placeholder:s,onChange:function(t){return e.change(t)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",id:"last_name",className:"form-control ".concat(c),placeholder:r,onChange:function(t){return e.change(t)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",id:"email",className:"form-control ".concat(o),placeholder:i,onChange:function(t){return e.change(t)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"User Name"),l.a.createElement("input",{type:"text",id:"userName",className:"form-control ".concat(m),placeholder:d,onChange:function(t){return e.change(t)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Status"),l.a.createElement(O.a,{className:"react-select primary",classNamePrefix:"react-select",id:"status_id",onChange:function(t){return e.setState({status_id:t.value})},options:a,placeholder:p}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",id:"password",className:"form-control ".concat(h),placeholder:"".concat(f),onChange:function(t){return e.change(t)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Confirm Password"),l.a.createElement("input",{type:"password",id:"confirmPassword",className:"form-control",onChange:function(t){return e.change(t)}}),b?null:[l.a.createElement("br",{key:3}),l.a.createElement("span",{className:"text-danger",key:4},"Password does not match")])),v?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),l.a.createElement("span",null,"Loading please wait..."))):[l.a.createElement("div",{className:"row",key:5},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success buttons",onClick:this.save},l.a.createElement("i",{className:"fa fa-check"})," Save"),l.a.createElement(u.b,{to:"/employee/list",className:"btn btn-danger buttons buttonMarginLeft"},l.a.createElement("i",{className:"fa fa-sign-out"})," Cancel"))),l.a.createElement("div",{className:"row",key:6},l.a.createElement("div",{className:"col"},N?l.a.createElement("span",null,y):""))])))))))])}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).remove=function(e){var t,n,l="?employee="+e;1==window.confirm("Are you sure?")&&(t=h.remove,n=l,"undefined"!==typeof n?fetch("http://localhost/ticketAPI/"+t+n):fetch("http://localhost/ticketAPI/"+t)).then(function(e){return e.json()}).then(function(e){e.status?a.searchEmployees():window.alert(e.message)}).catch(function(e){console.log("Error..."),console.log(e)})},a.edit=function(e){a.setState({employeeId:e,editEmployee:!0})},a.view=function(e){a.setState({employeeId:e,viewEmployee:!0})},a.state={employees:[],editEmployee:!1,viewEmployee:!1,employeeId:0},a.searchEmployees=a.searchEmployees.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchEmployees",value:function(){var e=this;g(h.searchEmployees).then(function(e){return e.json()}).then(function(t){e.setState({employees:t})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"componentDidMount",value:function(){this.searchEmployees()}},{key:"render",value:function(){var e=this.state,t=e.employees,a=e.employeeId,n=e.editEmployee,s=e.viewEmployee,c=!1,r=this;return n?l.a.createElement(E.a,{to:{pathname:"/employee",state:{employee_id:a}}}):s?l.a.createElement(E.a,{to:{pathname:"/view/employee",state:{employee_id:a}}}):(void 0!==this.props.location.state&&(c=this.props.location.state.newRecord),[l.a.createElement(k,{select:"employee",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"List of Employees"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},c?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"New Employee has been created!"):"")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(u.b,{to:"/employee",className:"btn btn-primary buttons float-right"},l.a.createElement("i",{className:"fa fa-plus"})," Create Employee")))),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col table-responsive"},l.a.createElement("table",{className:"table table-condensed table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"User Name"),l.a.createElement("th",null,"Created on"),l.a.createElement("th",null,"Created by"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,t.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.first_name),l.a.createElement("td",null,e.last_name),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.user_name),l.a.createElement("td",null,e.created_on),l.a.createElement("td",null,e.created_by),l.a.createElement("td",null,e.status_des),l.a.createElement("td",null,l.a.createElement("i",{className:"fa fa-eye actionIcon",title:"View Employee",onClick:function(t){return r.view(e.id)}}),l.a.createElement("i",{className:"fa fa-pencil-square-o actionIcon",title:"Edit Employee",onClick:function(t){return r.edit(e.id)}}),l.a.createElement("i",{className:"fa fa-trash actionIcon",title:"Remove Employee",onClick:function(t){return r.remove(e.id)}})))})))))))))))])}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).search=function(e){var t=a.state,n=t.date_from,l=t.date_to;void 0===n.length&&void 0===l.length&&y({date_from:n,date_to:l},N.entries).then(function(e){return e.json()}).then(function(e){null!=e?a.setState({entries:e}):window.alert("Response does not found")}).catch(function(e){console.log("Error..."),console.log(e)})},a.state={date_from:"",date_to:"",entries:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.entries,a=0;return[l.a.createElement(k,{select:"reports",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Generate Report"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement(_.a,{inputProps:{className:"form-control float-right",placeholder:"Datetime Picker Here"},timeFormat:!1,dateFormat:"YYYY-MM-DD",onChange:function(t){return e.setState({date_from:t})}})),l.a.createElement("div",{className:"col-md-1 form-group"},l.a.createElement("label",{className:"text-center"},"To")),l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement(_.a,{inputProps:{className:"form-control float-right",placeholder:"Datetime Picker Here"},timeFormat:!1,dateFormat:"YYYY-MM-DD",onChange:function(t){return e.setState({date_to:t})}})),l.a.createElement("div",{className:"col-md-2 form-group"},l.a.createElement("button",{className:"btn btn-primary float-right",onClick:this.search},"Generate")))),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("table",{className:"table table-condensed table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ticket#"),l.a.createElement("th",null,"Employee"),l.a.createElement("th",null,"Note"),l.a.createElement("th",null,"Date Start"),l.a.createElement("th",null,"Date End"),l.a.createElement("th",null,"Hours"))),l.a.createElement("tbody",null,t.map(function(e,t){return a+=parseInt(e.hour_diff),l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.ticket_id),l.a.createElement("td",null,e.employee_name),l.a.createElement("td",null,e.note),l.a.createElement("td",null,e.date_from),l.a.createElement("td",null,e.date_to),l.a.createElement("td",null,e.hour_diff))})),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",className:"text-right"},"Total"),l.a.createElement("th",{className:"text-center"},a))))))))))))]}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={first_name:"",last_name:"",email:"",user_name:"",status_des:""},a.searchEmployee=a.searchEmployee.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchEmployee",value:function(e){var t=this,a="?id="+e;g(h.searchEmployee,a).then(function(e){return e.json()}).then(function(e){null!=e&&t.setState({first_name:e.first_name,last_name:e.last_name,email:e.email,user_name:e.user_name,status_des:e.status_des})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"componentDidMount",value:function(){void 0!==this.props.location.state&&this.searchEmployee(this.props.location.state.employee_id)}},{key:"render",value:function(){var e=this.state,t=e.first_name,a=e.last_name,n=e.email,s=e.user_name,c=e.status_des;return[l.a.createElement(k,{select:"employee",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Employee View"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"capitalize"},t),l.a.createElement("label",null,"First Name")),l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"capitalize"},a),l.a.createElement("label",null,"Last Name"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"lowercase"},n),l.a.createElement("label",null,"Email")),l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"uppercase"},s),l.a.createElement("label",null,"User Name"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"capitalize"},c),l.a.createElement("label",null,"Status"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement(u.b,{to:"/employee/list",className:"btn btn-danger buttons buttonMarginLeft"},l.a.createElement("i",{className:"fa fa-sign-out"})," Back"))))))))]}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={ticketInfo:{id:0,subject:"",ticket_date:"",ticket_date_format:"",created_on:"",status_id:0,status_des:"",created_by:"",description:""}},a.search=a.search.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"search",value:function(e){var t=this,a="?ticket="+e;g(v.get,a).then(function(e){return e.json()}).then(function(e){null!=e&&t.setState({ticketInfo:e})}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})}},{key:"componentDidMount",value:function(){var e=this.props.ticketId;void 0!==e&&this.search(e)}},{key:"render",value:function(){var e=this.state.ticketInfo;return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("table",{className:"table table-condensed"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Ticket#:"),l.a.createElement("td",null,e.id)),l.a.createElement("tr",null,l.a.createElement("td",null,"Subject:"),l.a.createElement("td",null,e.subject)),l.a.createElement("tr",null,l.a.createElement("td",null,"Date:"),l.a.createElement("td",null,e.ticket_date_format)),l.a.createElement("tr",null,l.a.createElement("td",null,"Status:"),l.a.createElement("td",null,e.status_des)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created by:"),l.a.createElement("td",null,e.created_by)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created on:"),l.a.createElement("td",null,e.created_on)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},"Description")),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},e.description)))))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).change=function(e){e.preventDefault(),a.setState({showTab:e.target.id})},a.removeEmployee=function(e){var t="?record_id="+e;g(v.removeAssigned,t).then(function(e){return e.json()}).then(function(e){null!=e?e.status?a.setState({employees:e.employees}):window.alert(e.message):window.alert("Response does not found")}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})},a.removeEntry=function(e){var t="?record_id="+e;g(v.removeEntry,t).then(function(e){return e.json()}).then(function(e){null!=e?e.status?a.setState({entries:e.entries}):window.alert(e.message):window.alert("Response does not found")}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})},a.view=function(e){a.setState({employeeId:e,viewEmployee:!0})},a.state={employees:[],entries:[],showTab:"time-entries-tab",viewEmployee:!1,employeeId:0},a.searchEmployees=a.searchEmployees.bind(Object(p.a)(Object(p.a)(a))),a.searchEntries=a.searchEntries.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchEmployees",value:function(e){var t=this,a="?ticket="+e;g(v.employees,a).then(function(e){return e.json()}).then(function(e){null!=e&&t.setState({employees:e})}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})}},{key:"searchEntries",value:function(e){var t=this,a="?ticket="+e;g(v.entries,a).then(function(e){return e.json()}).then(function(e){null!=e&&t.setState({entries:e})}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})}},{key:"componentDidMount",value:function(){var e=this.props.ticketId;void 0!==e&&(this.searchEmployees(e),this.searchEntries(e))}},{key:"render",value:function(){var e=this.state,t=e.employees,a=e.entries,n=e.showTab,s=e.viewEmployee,c=e.employeeId,r=this.props.updating,o=this;return s?l.a.createElement(E.a,{to:{pathname:"/view/employee",state:{employee_id:c}}}):l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{onClick:function(e){return o.change(e)},className:"time-entries-tab"===n?"nav-link active":"nav-link",id:"time-entries-tab","data-toggle":"tab",href:"#time-entries",role:"tab","aria-controls":"time-entries","aria-selected":"true"},"Time Entries")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{onClick:function(e){return o.change(e)},className:"employees-tab"===n?"nav-link active":"nav-link",id:"employees-tab","data-toggle":"tab",href:"#employees",role:"tab","aria-controls":"employees","aria-selected":"false"},"Employees"))),l.a.createElement("div",{className:"tab-content padding",id:"myTabContent"},l.a.createElement("div",{className:"time-entries-tab"===n?"tab-pane fade show active":"tab-pane fade",id:"time-entries",role:"tabpanel","aria-labelledby":"home-tab"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col table-response"},l.a.createElement("table",{className:"table table-bordered table-condensed"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Employee"),l.a.createElement("th",null,"Created on"),l.a.createElement("th",null,"Note"),l.a.createElement("th",null,!1!==r?"Action":"-"))),l.a.createElement("tbody",null,a.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.employee_name),l.a.createElement("td",null,e.created_on),l.a.createElement("td",null,e.note),l.a.createElement("td",null,!1!==r?l.a.createElement("div",null,l.a.createElement("i",{className:"fa fa-trash actionIcon",onClick:function(t){return o.removeEntry(e.id)}})):"-"))}))))))),l.a.createElement("div",{className:"employees-tab"===n?"tab-pane fade show active":"tab-pane fade",id:"employees",role:"tabpanel","aria-labelledby":"profile-tab"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col table-response"},l.a.createElement("table",{className:"table table-bordered table-condensed"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,!1!==r?"Action":"-"))),l.a.createElement("tbody",null,t.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.first_name),l.a.createElement("td",null,e.last_name),l.a.createElement("td",null,e.email),l.a.createElement("td",null,!1!==r?l.a.createElement("div",null,l.a.createElement("i",{className:"fa fa-eye actionIcon",onClick:function(t){return o.view(e.employee_id)}}),l.a.createElement("i",{className:"fa fa-trash actionIcon",onClick:function(t){return o.removeEmployee(e.id)}})):"-"))})))))))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(u.b,{to:"/ticket/list",className:"btn btn-danger buttons buttonMarginLeft"},l.a.createElement("i",{className:"fa fa-sign-out"})," Cancel"))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).remove=function(e){if(window.confirm("are you sure?")){var t="?ticket="+e;g(v.remove,t).then(function(e){return e.json()}).then(function(e){null!=e?e.status?a.setState({redirect:!0}):window.alert(e.message):window.alert("Response does not found")}).catch(function(e){console.log(e),window.alert("Internal Error, please call the administrator")})}},a.edit=function(e){a.setState({ticketId:e,redirectToEdit:!0})},a.state={redirect:!1,ticketId:0,redirectToEdit:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=0,t=!1,a=this,n=this.state,s=n.redirect,c=n.redirectToEdit;return void 0!==this.props.location.state&&(e=this.props.location.state.ticket,t=this.props.location.state.updating),0===e?l.a.createElement(E.a,{to:"/ticket/list"}):s?l.a.createElement(E.a,{to:"/ticket/list"}):c?l.a.createElement(E.a,{to:{pathname:"/ticket",state:{ticketId:e}}}):[l.a.createElement(k,{select:"ticket",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},!0===t?l.a.createElement("div",{className:"padding"},l.a.createElement("button",{className:"btn btn-success actionButton",onClick:function(t){return a.edit(e)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit"),l.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return a.remove(e)}},l.a.createElement("i",{className:"fa fa-trash"})," Delete")):""))),l.a.createElement(R,{ticketId:e,key:3}),l.a.createElement(P,{ticketId:e,updating:t,key:4})]}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).change=function(e){var t=e.target.id,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.state={employee_id:0,date_from:"",date_to:"",note:"",employees:[],redirect:!1,sendRequest:!1,errorMessage:!1,messageLabel:""},a.searchEmployees=a.searchEmployees.bind(Object(p.a)(Object(p.a)(a))),a.create=a.create.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"searchEmployees",value:function(e){var t=this,a="?ticket="+e;g(v.employeeOptions,a).then(function(e){return e.json()}).then(function(e){null!=e&&t.setState({employees:e})}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"create",value:function(){var e=this,t=this.state,a=t.employee_id,n=t.date_from,l=t.date_to,s=t.note;y({ticket_id:this.props.location.state.ticket,employee_id:a,date_from:n,date_to:l,note:s},v.createEntry).then(function(e){return e.json()}).then(function(t){t.status?e.setState({redirect:!0}):e.setState({sendRequest:!1,errorMessage:!0,messageLabel:t.message})}).catch(function(t){console.log("Error..."),console.log(t),e.setState({sendRequest:!1,errorMessage:!0,messageLabel:"Internal Error, please call the administrator"})})}},{key:"componentDidMount",value:function(){void 0!==this.props.location.state&&this.searchEmployees(this.props.location.state.ticket)}},{key:"render",value:function(){var e=this;if(void 0==this.props.location.state)return l.a.createElement(E.a,{to:"/ticket/list"});var t=this.state,a=t.employees,n=t.errorMessage,s=t.sendRequest,c=t.messageLabel;return t.redirect?l.a.createElement(E.a,{to:{pathname:"/ticket/list",state:{newRecord:!0}}}):[l.a.createElement(k,{select:"ticket",key:1}),l.a.createElement("div",{className:"container-fluid",key:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Ticket Entry Form"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Ticket Information"))),",",l.a.createElement(R,{ticketId:this.props.location.state.ticket,key:3}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Time Entry Information"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 form-group"},l.a.createElement("label",null,"Employee"),l.a.createElement(O.a,{className:"react-select primary",classNamePrefix:"react-select",onChange:function(t){return e.setState({employee_id:t.value})},options:a,placeholder:"Select Employee..."}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("label",null,"Date"),l.a.createElement(_.a,{inputProps:{className:"form-control",placeholder:"Datetime Picker Here"},dateFormat:"YYYY-MM-DD",onChange:function(t){return e.setState({date_from:t})}})),l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("label",null,"To"),l.a.createElement(_.a,{inputProps:{className:"form-control",placeholder:"Datetime Picker Here"},dateFormat:"YYYY-MM-DD",onChange:function(t){return e.setState({date_to:t})}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 form-group"},l.a.createElement("label",null,"Note"),l.a.createElement("textarea",{id:"note",className:"form-control",rows:5,onChange:function(t){return e.change(t)}}))),s?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),l.a.createElement("span",null,"Loading please wait..."))):[l.a.createElement("div",{className:"row",key:3},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("button",{className:"btn btn-success buttons",onClick:function(t){return e.create()}},"Save"),l.a.createElement(u.b,{to:"/ticket/list",className:"btn btn-danger buttons buttonMarginLeft"},l.a.createElement("i",{className:"fa fa-sign-out"})," Cancel"))),l.a.createElement("div",{className:"row",key:4},l.a.createElement("div",{className:"col"},n?l.a.createElement("span",{className:"text-danger"},c):""))]))))))]}}]),t}(n.Component),Y=[{path:"/",component:function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).change=function(e){var t=e.target.id,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.state={user_name:"",password:"",redirect:!1},a.logIn=a.logIn.bind(Object(p.a)(Object(p.a)(a))),a.validSessionId=a.validSessionId.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"logIn",value:function(){var e=this,t=this.state,a="?user="+t.user_name+"&pass="+t.password;g(h.logIn,a).then(function(e){return e.json()}).then(function(t){null!=t?t.status?(sessionStorage.setItem("sessionId",t.sessionId),e.setState({redirect:!0})):window.alert("You don't have permission!"):window.alert("Data does not found!")}).catch(function(e){console.log("Error..."),console.log(e)})}},{key:"validSessionId",value:function(){var e=this,t=sessionStorage.getItem("sessionId");if("undefined"!==t){var a="?session="+t;g(h.validSessionId,a).then(function(e){return e.json()}).then(function(t){null!=t&&t.status&&e.setState({redirect:!0})}).catch(function(e){console.log("Error..."),console.log(e)})}}},{key:"componentDidMount",value:function(){this.validSessionId()}},{key:"render",value:function(){var e=this;return this.state.redirect?l.a.createElement(E.a,{to:"/ticket/list"}):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-5 offset-md-3 marginTop"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Login"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",null,"Username/Email"),l.a.createElement("input",{type:"text",id:"user_name",onChange:function(t){return e.change(t)},className:"form-control",placeholder:"Enter User Name or email"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:function(t){return e.change(t)},className:"form-control",placeholder:"Enter your password"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 form-group"},l.a.createElement("button",{className:"btn btn-success buttons",onClick:function(t){return e.logIn()}},"Enter")))))))))}}]),t}(n.Component)},{path:"/ticket/list",component:S},{path:"/ticket/entries",component:x},{path:"/ticket",component:L},{path:"/ticket/view",component:q},{path:"/employee/list",component:M},{path:"/employee",component:C},{path:"/view/employee",component:D},{path:"/report",component:T}],A=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{class:"alert alert-danger",role:"alert"},"Link unreachable! ",l.a.createElement("br",null),l.a.createElement(u.b,{to:"/ticket/list",className:"btn btn-danger buttons buttonMarginLeft"},l.a.createElement("i",{className:"fa fa-sign-out"})," Back"))}}]),t}(n.Component),F=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement(E.d,null,Y.map(function(e,t){return l.a.createElement(E.b,{exact:!0,path:e.path,component:e.component,key:t})}),l.a.createElement(E.b,{component:A})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.ed98f57d.chunk.js.map